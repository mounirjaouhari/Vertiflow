# ============================================================================
# AGRI-COPILOT PRO - ENVIRONMENT CONFIGURATION
# ============================================================================
# 
# INTÉGRATION VERTIFLOW CLOUD RELEASE
# ====================================
# Ce fichier configure Agri-Copilot Pro comme SERVICE dans vertiflow_cloud_release
# Ne pas utiliser de docker-compose séparé - utiliser celui du projet root!
#
# Développement local: Copier en .env et adapter les hosts
# Docker compose:      Les variables sont automatiquement passées au service
#

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

APP_NAME=Agri-Copilot Pro
APP_VERSION=2.2.0
DEBUG=false
ENVIRONMENT=production

# ============================================================================
# GOOGLE CLOUD CONFIGURATION (External API)
# ============================================================================
# Ces clés sont héritées du projet vertiflow_cloud_release

GCP_PROJECT_ID=vertiflow-484602
GCP_LOCATION=us-central1
GCP_CREDENTIALS_PATH=/opt/vertiflow/security/gcp/vertiflow-gcp-key.json

# ============================================================================
# GEMINI API CONFIGURATION (External API)
# ============================================================================
# Clé Gemini héritée du projet parent

GEMINI_MODEL=gemini-2.0-flash-001
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MAX_TOKENS=4096
GEMINI_TEMPERATURE=0.7

# ============================================================================
# BIGQUERY CONFIGURATION (External API via GCP)
# ============================================================================

BIGQUERY_DATASET=vertiflow_analytics
BIGQUERY_LOCATION=us-central1

# ============================================================================
# CLICKHOUSE - Service VertiFlow EXISTANT (Ne pas changer!)
# ============================================================================
# 
# DÉVELOPPEMENT LOCAL (localhost):
#   CLICKHOUSE_HOST=localhost
#   CLICKHOUSE_PORT=8123
#
# DOCKER COMPOSE (service Docker):
#   CLICKHOUSE_HOST=clickhouse
#   CLICKHOUSE_PORT=8123
#   (Port TCP natif 9000 géré par config.get_clickhouse_tcp_url())

CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=vertiflow
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=default
CLICKHOUSE_SSL=false

# ============================================================================
# MONGODB - Service VertiFlow EXISTANT (Ne pas changer!)
# ============================================================================
#
# DÉVELOPPEMENT LOCAL (localhost):
#   MONGODB_HOST=localhost
#   MONGODB_PORT=27017
#
# DOCKER COMPOSE (service Docker):
#   MONGODB_HOST=mongodb
#   MONGODB_PORT=27017

MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_DATABASE=vertiflow_ops
MONGODB_URI=

# ============================================================================
# KAFKA - Service VertiFlow EXISTANT (Ne pas changer!)
# ============================================================================
#
# DÉVELOPPEMENT LOCAL (localhost):
#   KAFKA_BOOTSTRAP_SERVERS=localhost:9092
#
# DOCKER COMPOSE (service Docker, port INTERNAL):
#   KAFKA_BOOTSTRAP_SERVERS=kafka:29092

KAFKA_BOOTSTRAP_SERVERS=kafka:29092
KAFKA_TOPIC_EVENTS=agri_copilot_events

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# 
# IMPORTANT: Générer une clé sécurisée pour production
# python3 -c "import secrets; print(secrets.token_urlsafe(32))"

SECRET_KEY=vtiflw-copilot-dev-key-change-in-production-32chars-minimum
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24
REFRESH_TOKEN_EXPIRY_DAYS=30

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_TOKENS_PER_HOUR=10000

# ============================================================================
# CACHING
# ============================================================================

CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/app.log
LOG_RETENTION_DAYS=30

# ============================================================================
# AUDIT CONFIGURATION
# ============================================================================

AUDIT_ENABLED=true
AUDIT_LOG_FILE=logs/audit.log

# ============================================================================
# STREAMLIT CONFIGURATION (UI développement local uniquement)
# ============================================================================

STREAMLIT_THEME=light
STREAMLIT_PAGE_TITLE=Agri-Copilot Pro

# ============================================================================
# LANGUAGE CONFIGURATION
# ============================================================================

SUPPORTED_LANGUAGES=FR,EN,AR,KAB
DEFAULT_LANGUAGE=FR

# ============================================================================
# FEATURE FLAGS
# ============================================================================

ENABLE_ADVANCED_ANALYTICS=true
ENABLE_AI_PREDICTIONS=true
ENABLE_SQL_GENERATION=true

# ============================================================================
# REDIS CONFIGURATION (Optional - non utilisé actuellement)
# ============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================================================
# EXTERNAL APIS
# ============================================================================

NASA_POWER_API_URL=https://power.larc.nasa.gov/api/v1/temporal/monthly/point
OPENMETEO_API_URL=https://archive-api.open-meteo.com/v1/archive
OPENAQ_API_URL=https://api.openaq.org/v2/measurements

# ============================================================================
# NOTIFICATIONS (Optional)
# ============================================================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@vertiflow.io

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

DEVELOPMENT_MODE=false
RELOAD=false
DISABLE_AUTH_FOR_TESTING=false

