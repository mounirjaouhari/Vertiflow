# ============================================================================
# VERTIFLOW - Environment Variables (Production)
# ============================================================================
# Fichier de configuration pour l'environnement de production
# ATTENTION: Ne jamais committer avec des vraies valeurs!
# ============================================================================

# =============================================================================
# GENERAL
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# KAFKA (SASL_SSL)
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS}
KAFKA_SECURITY_PROTOCOL=SASL_SSL
KAFKA_SASL_MECHANISM=SCRAM-SHA-512
KAFKA_SASL_USERNAME=${KAFKA_SASL_USERNAME}
KAFKA_SASL_PASSWORD=${KAFKA_SASL_PASSWORD}
KAFKA_SSL_CA_LOCATION=/etc/ssl/certs/ca.crt
KAFKA_CONSUMER_GROUP=vertiflow_prod
KAFKA_TELEMETRY_TOPIC=basil_telemetry_prod
KAFKA_COMMANDS_TOPIC=basil_commands_prod
KAFKA_AUTO_CREATE_TOPICS=false
KAFKA_ACKS=all
KAFKA_RETRIES=10
KAFKA_COMPRESSION_TYPE=snappy

# =============================================================================
# CLICKHOUSE (SSL)
# =============================================================================
CLICKHOUSE_HOST=${CLICKHOUSE_HOST}
CLICKHOUSE_PORT=9440
CLICKHOUSE_HTTP_PORT=8443
CLICKHOUSE_USER=${CLICKHOUSE_USER}
CLICKHOUSE_PASSWORD=${CLICKHOUSE_PASSWORD}
CLICKHOUSE_DATABASE=vertiflow
CLICKHOUSE_SECURE=true
CLICKHOUSE_VERIFY=true
CLICKHOUSE_CA_CERT=/etc/ssl/certs/ca.crt

# =============================================================================
# MONGODB (TLS + Auth)
# =============================================================================
MONGODB_HOST=${MONGODB_HOST}
MONGODB_PORT=27017
MONGODB_DATABASE=vertiflow
MONGODB_USER=${MONGODB_USER}
MONGODB_PASSWORD=${MONGODB_PASSWORD}
MONGODB_AUTH_SOURCE=admin
MONGODB_TLS=true
MONGODB_TLS_CA_FILE=/etc/ssl/certs/ca.crt

# =============================================================================
# MQTT (TLS)
# =============================================================================
MQTT_HOST=${MQTT_HOST}
MQTT_PORT=8883
MQTT_TLS_ENABLED=true
MQTT_USERNAME=${MQTT_USERNAME}
MQTT_PASSWORD=${MQTT_PASSWORD}
MQTT_CA_CERT=/etc/ssl/certs/ca.crt
MQTT_QOS=1

# =============================================================================
# NIFI
# =============================================================================
NIFI_HOST=${NIFI_HOST}
NIFI_PORT=8443
NIFI_USERNAME=${NIFI_USERNAME}
NIFI_PASSWORD=${NIFI_PASSWORD}
NIFI_TLS_ENABLED=true

# =============================================================================
# EXTERNAL APIs
# =============================================================================
NASA_POWER_API_KEY=${NASA_POWER_API_KEY}
OPENWEATHER_API_KEY=${OPENWEATHER_API_KEY}
ELECTRICITY_MAPS_API_KEY=${ELECTRICITY_MAPS_API_KEY}
RTE_CLIENT_ID=${RTE_CLIENT_ID}
RTE_CLIENT_SECRET=${RTE_CLIENT_SECRET}
OPEN_METEO_ENABLED=true

# =============================================================================
# ML/MLFLOW
# =============================================================================
MLFLOW_TRACKING_URI=${MLFLOW_TRACKING_URI}
MLFLOW_EXPERIMENT_NAME=vertiflow-production
MLFLOW_S3_ENDPOINT_URL=${MLFLOW_S3_ENDPOINT_URL}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
MODEL_RELOAD_INTERVAL=3600

# =============================================================================
# MONITORING
# =============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PUSHGATEWAY=${PROMETHEUS_PUSHGATEWAY}
METRICS_EXPORT_INTERVAL=30
SENTRY_DSN=${SENTRY_DSN}

# =============================================================================
# BATCH PROCESSING
# =============================================================================
BATCH_SIZE=1000
BATCH_TIMEOUT_MS=5000
MAX_POLL_RECORDS=500

# =============================================================================
# SECURITY
# =============================================================================
JWT_SECRET_KEY=${JWT_SECRET_KEY}
ENCRYPTION_KEY=${ENCRYPTION_KEY}
